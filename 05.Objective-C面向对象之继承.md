# Objective-C面向对象之继承

标签: 朝花夕拾 源码之美 Objective-C

---

## 基本概念

程序的世界和人类的"对象"世界在思想上是没有什么区别的, 富二代继承了父母, 自然就拥有了父母拥有的资源, 子类继承了父类同样就拥有了父类的所有方法和属性(成员变量).

![此处输入图片的描述][1]

图例中动物是猫狗的父类, 黑猫白猫是猫的子类.

> 
继承的好处
1. 抽取了重复的代码
2. 建立了类与类之间的联系

> 
继承的缺点:
1. 耦合性太强

## Objective-C中的继承

```obc
// Animal.h
@interface Animal: NSObject
// Animal类里继承了NSObject, 获得了NSObject类的方法.
@end

```

``` obc
// Dog.h
@interface Dog:Animal
// Dog类继承Animal类
@end

```

> 
**Notice:** 
Objective-C是单继承语言. 在Objective-C语言中, 基本上所有类的根类都是NSObject类.

## 继承的使用注意

> 
1. 编译器从上往下执行, 所以在子类前面至少应该要有父类的生命;
2. Objective-C中不允许子类和父类拥有相同名称的成员变量名;
3. Objective-C中的子类可以拥有和父类相同名称的方法, 在子类调用时, 优先去自己内部寻找, 如果没有则一层一层往上找;

> 
提示: 重写即子类重新实现了父类中的某个方法, 覆盖了父类以前的实现.

![此处输入图片的描述][2]

上图一共有三个类, Person类继承了NSObject类, Student类继承了Person类.

创建一个Student *s = [[Student alloc] init];
此时会把Student类和这个类的父类加载进内存.
> 
提示: 每个类中都有一个super class指针, 该指针指向自己的父类. 对象中有一个isa指针, 该指针指向调用该对象的类.

## 继承和组合

继承的适用场合:
    1. 当两个类拥有像的属性和方法时, 就可以将相同的属性和方法抽取到一个父类中
    2. 当A类完全拥有B类中的部分属性和方法时, 可以考虑让B类继承A类, 在这种状况下, 也可以考虑组合使用

> 
- 继承: ###是xxx, 如狗是动物, 可以让狗继承动物类
- 组合: ###拥有xxx, 如学生有书, 可以让书这个类作为学生类的属性

## 关键字super

super关键字, 在子类中重写方法时, 可以让调用者跳过这一层而调用父类中的方法.

作用: 
    1. 直接调用父类中的某一个方法
    2. super处在对象方法中, 就会diaoyong父类的对象方法; super处于类方法中, 就会调用父类的类方法.
    
使用场景: 子类重写父类方法时, 想要保留父类的一些行为.


  [1]: http://i.niupic.com/images/2017/06/14/VDFCdS.png
  [2]: http://i.niupic.com/images/2017/06/16/Vu6BGv.png